<h2>Booking</h2>

<mat-form-field>
  <mat-label>Room</mat-label>
  <mat-select [(ngModel)]="model.roomId" (selectionChange)="checkConflict()">
    <mat-option *ngFor="let r of rooms" [value]="r.id">
      {{r.name}}
    </mat-option>
  </mat-select>
</mat-form-field>

<mat-form-field>
  <input matInput type="datetime-local"
         [(ngModel)]="model.start"
         (change)="checkConflict()">
</mat-form-field>

<mat-form-field>
  <input matInput type="datetime-local"
         [(ngModel)]="model.end"
         (change)="checkConflict()">
</mat-form-field>

<mat-form-field>
  <input matInput placeholder="User"
         [(ngModel)]="model.userName">
</mat-form-field>

<div *ngIf="hasConflict" style="color:red">
  ⚠️ Time slot already booked
</div>

<button mat-raised-button color="primary"
        [disabled]="hasConflict"
        (click)="save()">
  Save
</button>